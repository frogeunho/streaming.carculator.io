<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ì‹¤ì‹œê°„ ìŠ¤ë° ì¹´ìš´í„°</title>
<style>
    body {
        font-family: -apple-system, BlinkMacSystemFont, "Gowun Dodum", sans-serif;
        background: #ffffff;
        text-align: center;
        padding: 40px 10px;
        color: #222;
        line-height: 1.6;
    }
    h1 {
        font-size: 24px;
        margin-bottom: 12px;
    }
    .card {
        border: 2px solid #e7e7e7;
        border-radius: 18px;
        padding: 20px;
        width: 320px;
        margin: 15px auto;
        font-size: 20px;
    }
    .value {
        font-size: 30px;
        font-weight: bold;
        color: #ff4fa3;
        margin-top: 5px;
    }
</style>
</head>
<body>

<h1>ğŸ§ ì‹¤ì‹œê°„ ìŠ¤ë° ì¹´ìš´í„°</h1>
<p>ê¸°ì¤€ ì‹œê°„: <strong>2025-11-10 18:00 (KST)</strong></p>
<p style="font-size:14px; color:#777;">â€» í˜ì´ì§€ ì ‘ì†/ìƒˆë¡œê³ ì¹¨ ì‹œ ìë™ ê³„ì‚°</p>

<div class="card">
    BBUU!
    <div id="bbuu" class="value">Loading...</div>
</div>

<div class="card">
    ë´‰ìˆ­ì•„
    <div id="bongsunga" class="value">Loading...</div>
</div>

<script>
// ê¸°ì¤€ ì‹œê°„
const startTime = new Date("2025-11-10T18:00:00+09:00");

// ê³¡ ê¸¸ì´ (ì´ˆ)
const durations = {
    "BBUU!": 172,
    "ë´‰ìˆ­ì•„": 163,
    "Dash": 174,
    "ìˆ¨ë°”ê¼­ì§ˆ": 204,
    "12:32": 193,
    "Chroma Drift": 210,
    "Island": 256,
    "RIZZ": 164
};

// í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ìˆœì„œ
const playlist = [
    "BBUU!", "ë´‰ìˆ­ì•„", "Dash", "ìˆ¨ë°”ê¼­ì§ˆ", "12:32", "BBUU!",
    "Chroma Drift", "ìˆ¨ë°”ê¼­ì§ˆ", "Dash", "ë´‰ìˆ­ì•„", "BBUU!",
    "Island", "Chroma Drift", "ìˆ¨ë°”ê¼­ì§ˆ", "BBUU!", "Dash",
    "ë´‰ìˆ­ì•„", "RIZZ", "Island"
];

function calculatePlays() {
    const now = new Date();
    let elapsed = Math.floor((now - startTime) / 1000);

    // í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ì´ ê¸¸ì´
    const loopSec = playlist.reduce((acc, song) => acc + durations[song], 0);

    // ê¸°ë³¸ ë°˜ë³µ íšŸìˆ˜
    const fullLoops = Math.floor(elapsed / loopSec);
    let remaining = elapsed % loopSec;

    // ì¹´ìš´íŠ¸ ì´ˆê¸°í™”
    let result = { "BBUU!": fullLoops * 0, "ë´‰ìˆ­ì•„": fullLoops * 0 };
    const perLoopCount = { "BBUU!": 0, "ë´‰ìˆ­ì•„": 0 };
    playlist.forEach(song => {
        if (song in perLoopCount) perLoopCount[song] += 1;
    });
    for (let title in result) {
        result[title] = fullLoops * perLoopCount[title];
    }

    // ë¶€ë¶„ ë°˜ë³µ ê³„ì‚°
    for (let song of playlist) {
        if (remaining >= durations[song]) {
            if (song in result) result[song]++;
            remaining -= durations[song];
        } else break;
    }

    document.getElementById("bbuu").innerText = result["BBUU!"] + "íšŒ";
    document.getElementById("bongsunga").innerText = result["ë´‰ìˆ­ì•„"] + "íšŒ";
}

calculatePlays();
</script>

</body>
</html>
